@using System.Globalization
@model List<Sigortam.Cerit.Common.Dtos.InsuranceDto>
@{
    ViewData["Title"] = "Insurance";
    Layout = "~/Views/Shared/_Layout.cshtml";
    var count = 0;
}

<h1 class="app-content-headerText ">Tüm sigortaları görüntüle</h1>
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>CodePen - Products Dashboard UI</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/5.0.0/normalize.min.css">
    <link rel="stylesheet" href="~/css/style.css">
    <link rel="stylesheet" href="~/css/grid.css">
    <link rel="stylesheet" href="~/css/modal.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link rel="stylesheet" href="path/to/font-awesome/css/font-awesome.min.css">
    <link rel="stylesheet" href="~/css/calender.css">
</head>
<body>
    <!-- partial:index.partial.html -->
    <div class="app-container">
        <div class="app-content">
            <div class="app-content-header">
                @*<h1 class="app-content-headerText">Products</h1>*@
@*                <button class="mode-switch" title="Switch Theme">
                    <svg class="moon" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" width="24" height="24" viewBox="0 0 24 24">
                        <defs></defs>
                        <path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"></path>
                    </svg>
                </button>*@
                <!-- Button trigger modal -->
                <button class="app-content-headerButton" onclick="DownloadExcelInsurance()">Excel Export</button>
                <button class="app-content-headerButton" data-toggle="modal" data-target="#exampleModalCenter">Yeni Sigorta Kaydı Ekle</button>
                <!-- Modal -->
                <div class="modal fade" id="exampleModalCenter" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
                    <div class="modal-dialog modal-dialog-centered" role="document">
                        <div class="modal-content">
                            <div class="modal-header">
                                <button type="button" class="close d-flex align-items-center justify-content-center" data-dismiss="modal" aria-label="Close">
                                    <span aria-hidden="true" class="ion-ios-close"></span>
                                </button>
                            </div>
                            <form id="form" class="modal-body p-4 p-md-5 needs-validation" novalidate>
                                <div class="icon d-flex align-items-center justify-content-center">
                                    <span class="ion-ios-person"></span>
                                </div>
                                <h3 class="text-center mb-4 signIn">Kayıt Edin</h3>
                                <div class="form-group row">
                                    <div class="col">
                                        <input type="text" id="name" class="form-control rounded-left needs-validation-text" placeholder="İsim" required />
                                        <div class="invalid-feedback">
                                            Lütfen isim kısmını doldurun.
                                        </div>
                                    </div>
                                    <div class="col">
                                        <input type="text" id="lastName" class="form-control rounded-right needs-validation-text" placeholder="Soyisim" required />
                                        <div class="invalid-feedback">
                                            Lütfen soyisim kısmını doldurun.
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group d-flex row">
                                    <div class="col">
                                        <input type="text" id="identificationNumber" class="form-control rounded-left needs-validation-text" placeholder="TC" required />
                                        <div class="invalid-feedback">
                                            Lütfen TC kısmını doldurun.
                                        </div>
                                    </div>
                                    <div class="col">
                                        <input type="text" id="birthDate" class="form-control rounded-right needs-validation-text" placeholder="Doğum Yılı" required />
                                        <div class="invalid-feedback">
                                            Lütfen doğum yılı kısmını doldurun.
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group d-flex row">
                                    <div class="col">
                                        <input type="text" id="plateNumber" class="form-control rounded-right needs-validation-text" placeholder="Plaka Numarası" required />
                                        <div class="invalid-feedback">
                                            Lütfen plaka numarası kısmını doldurun.
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group d-flex row">
                                    <div class="col">
                                        <input type="text" id="insuranceStartDate" class="datepicker form-control rounded-left" placeholder="Sigorta Başlangıç Tarihi" />
                                        <div class="invalid-feedback">
                                            Lütfen sigorta başlangıç tarihi kısmını doldurun.
                                        </div>
                                    </div>
                                    <div class="col">
                                        <input type="text" id="insuranceEndDate" class="datepicker form-control rounded-right" placeholder="Sigorta Bitiş Tarihi" />
                                        <div class="invalid-feedback">
                                            Lütfen sigorta bitiş tarihi kısmını doldurun.
                                        </div>
                                    </div>
                                </div>
                                <div>
                                    <button type="submit" class="btn btn-primary container" onclick="identityCheck()">Kayıt Et</button>
                                </div>
                                @*                                <div class="form-group d-md-flex">
                                    <div class="form-check w-50">
                                    <label class="custom-control fill-checkbox">
                                    <input type="checkbox" class="fill-control-input">
                                    <span class="fill-control-indicator"></span>
                                    <span class="fill-control-description">Remember Me</span>
                                    </label>
                                    </div>
                                    <div class="w-50 text-md-right">
                                    <a href="#">Forgot Password</a>
                                    </div>
                                    </div>*@
                            </form>
                            @*                                <div class="modal-footer justify-content-center">
                                <p>Not a member? <a href="#">Create an account</a></p>
                                </div>*@
                        </div>
                    </div>
                </div>
            </div>
            <div class="app-content-actions">
                <input class="search-bar" placeholder="Search..." type="text">
                <div class="app-content-actions-wrapper">
                    <div class="filter-button-wrapper">
                        <button class="action-button filter jsFilter"><span>Filter</span><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-filter"><polygon points="22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3" /></svg></button>
                        <div class="filter-menu">
                            <label>Category</label>
                            <select>
                                <option>All Categories</option>
                                <option>Furniture</option>
                                <option>Decoration</option>
                                <option>Kitchen</option>
                                <option>Bathroom</option>
                            </select>
                            <label>Status</label>
                            <select>
                                <option>All Status</option>
                                <option>Active</option>
                                <option>Disabled</option>
                            </select>
                            <div class="filter-menu-buttons">
                                <button class="filter-button reset">
                                    Reset
                                </button>
                                <button class="filter-button apply">
                                    Apply
                                </button>
                            </div>
                        </div>
                    </div>
                    <button class="action-button list active" title="List View">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-list"><line x1="8" y1="6" x2="21" y2="6" /><line x1="8" y1="12" x2="21" y2="12" /><line x1="8" y1="18" x2="21" y2="18" /><line x1="3" y1="6" x2="3.01" y2="6" /><line x1="3" y1="12" x2="3.01" y2="12" /><line x1="3" y1="18" x2="3.01" y2="18" /></svg>
                    </button>
                    <button class="action-button grid" title="Grid View">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-grid"><rect x="3" y="3" width="7" height="7" /><rect x="14" y="3" width="7" height="7" /><rect x="14" y="14" width="7" height="7" /><rect x="3" y="14" width="7" height="7" /></svg>
                    </button>
                </div>
            </div>
            <div class="products-area-wrapper tableView">
                <div class="products-header">
                    <div class="product-cell image">
                        Şirket
                        <button class="sort-button">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 512 512"><path fill="currentColor" d="M496.1 138.3L375.7 17.9c-7.9-7.9-20.6-7.9-28.5 0L226.9 138.3c-7.9 7.9-7.9 20.6 0 28.5 7.9 7.9 20.6 7.9 28.5 0l85.7-85.7v352.8c0 11.3 9.1 20.4 20.4 20.4 11.3 0 20.4-9.1 20.4-20.4V81.1l85.7 85.7c7.9 7.9 20.6 7.9 28.5 0 7.9-7.8 7.9-20.6 0-28.5zM287.1 347.2c-7.9-7.9-20.6-7.9-28.5 0l-85.7 85.7V80.1c0-11.3-9.1-20.4-20.4-20.4-11.3 0-20.4 9.1-20.4 20.4v352.8l-85.7-85.7c-7.9-7.9-20.6-7.9-28.5 0-7.9 7.9-7.9 20.6 0 28.5l120.4 120.4c7.9 7.9 20.6 7.9 28.5 0l120.4-120.4c7.8-7.9 7.8-20.7-.1-28.5z" /></svg>
                        </button>
                    </div>
                    <div class="product-cell category">
                        Kullanıcı<button class="sort-button">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 512 512"><path fill="currentColor" d="M496.1 138.3L375.7 17.9c-7.9-7.9-20.6-7.9-28.5 0L226.9 138.3c-7.9 7.9-7.9 20.6 0 28.5 7.9 7.9 20.6 7.9 28.5 0l85.7-85.7v352.8c0 11.3 9.1 20.4 20.4 20.4 11.3 0 20.4-9.1 20.4-20.4V81.1l85.7 85.7c7.9 7.9 20.6 7.9 28.5 0 7.9-7.8 7.9-20.6 0-28.5zM287.1 347.2c-7.9-7.9-20.6-7.9-28.5 0l-85.7 85.7V80.1c0-11.3-9.1-20.4-20.4-20.4-11.3 0-20.4 9.1-20.4 20.4v352.8l-85.7-85.7c-7.9-7.9-20.6-7.9-28.5 0-7.9 7.9-7.9 20.6 0 28.5l120.4 120.4c7.9 7.9 20.6 7.9 28.5 0l120.4-120.4c7.8-7.9 7.8-20.7-.1-28.5z" /></svg>
                        </button>
                    </div>
                    <div class="product-cell category">
                        Başlangıç Tarihi<button class="sort-button">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 512 512"><path fill="currentColor" d="M496.1 138.3L375.7 17.9c-7.9-7.9-20.6-7.9-28.5 0L226.9 138.3c-7.9 7.9-7.9 20.6 0 28.5 7.9 7.9 20.6 7.9 28.5 0l85.7-85.7v352.8c0 11.3 9.1 20.4 20.4 20.4 11.3 0 20.4-9.1 20.4-20.4V81.1l85.7 85.7c7.9 7.9 20.6 7.9 28.5 0 7.9-7.8 7.9-20.6 0-28.5zM287.1 347.2c-7.9-7.9-20.6-7.9-28.5 0l-85.7 85.7V80.1c0-11.3-9.1-20.4-20.4-20.4-11.3 0-20.4 9.1-20.4 20.4v352.8l-85.7-85.7c-7.9-7.9-20.6-7.9-28.5 0-7.9 7.9-7.9 20.6 0 28.5l120.4 120.4c7.9 7.9 20.6 7.9 28.5 0l120.4-120.4c7.8-7.9 7.8-20.7-.1-28.5z" /></svg>
                        </button>
                    </div>
                    <div class="product-cell status-cell">
                        Bitiş Tarihi<button class="sort-button">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 512 512"><path fill="currentColor" d="M496.1 138.3L375.7 17.9c-7.9-7.9-20.6-7.9-28.5 0L226.9 138.3c-7.9 7.9-7.9 20.6 0 28.5 7.9 7.9 20.6 7.9 28.5 0l85.7-85.7v352.8c0 11.3 9.1 20.4 20.4 20.4 11.3 0 20.4-9.1 20.4-20.4V81.1l85.7 85.7c7.9 7.9 20.6 7.9 28.5 0 7.9-7.8 7.9-20.6 0-28.5zM287.1 347.2c-7.9-7.9-20.6-7.9-28.5 0l-85.7 85.7V80.1c0-11.3-9.1-20.4-20.4-20.4-11.3 0-20.4 9.1-20.4 20.4v352.8l-85.7-85.7c-7.9-7.9-20.6-7.9-28.5 0-7.9 7.9-7.9 20.6 0 28.5l120.4 120.4c7.9 7.9 20.6 7.9 28.5 0l120.4-120.4c7.8-7.9 7.8-20.7-.1-28.5z" /></svg>
                        </button>
                    </div>
                    <div class="product-cell sales">
                        Ücret<button class="sort-button">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 512 512"><path fill="currentColor" d="M496.1 138.3L375.7 17.9c-7.9-7.9-20.6-7.9-28.5 0L226.9 138.3c-7.9 7.9-7.9 20.6 0 28.5 7.9 7.9 20.6 7.9 28.5 0l85.7-85.7v352.8c0 11.3 9.1 20.4 20.4 20.4 11.3 0 20.4-9.1 20.4-20.4V81.1l85.7 85.7c7.9 7.9 20.6 7.9 28.5 0 7.9-7.8 7.9-20.6 0-28.5zM287.1 347.2c-7.9-7.9-20.6-7.9-28.5 0l-85.7 85.7V80.1c0-11.3-9.1-20.4-20.4-20.4-11.3 0-20.4 9.1-20.4 20.4v352.8l-85.7-85.7c-7.9-7.9-20.6-7.9-28.5 0-7.9 7.9-7.9 20.6 0 28.5l120.4 120.4c7.9 7.9 20.6 7.9 28.5 0l120.4-120.4c7.8-7.9 7.8-20.7-.1-28.5z" /></svg>
                        </button>
                    </div>
                    <div class="product-cell stock">
                        Kalan Gün<button class="sort-button">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 512 512"><path fill="currentColor" d="M496.1 138.3L375.7 17.9c-7.9-7.9-20.6-7.9-28.5 0L226.9 138.3c-7.9 7.9-7.9 20.6 0 28.5 7.9 7.9 20.6 7.9 28.5 0l85.7-85.7v352.8c0 11.3 9.1 20.4 20.4 20.4 11.3 0 20.4-9.1 20.4-20.4V81.1l85.7 85.7c7.9 7.9 20.6 7.9 28.5 0 7.9-7.8 7.9-20.6 0-28.5zM287.1 347.2c-7.9-7.9-20.6-7.9-28.5 0l-85.7 85.7V80.1c0-11.3-9.1-20.4-20.4-20.4-11.3 0-20.4 9.1-20.4 20.4v352.8l-85.7-85.7c-7.9-7.9-20.6-7.9-28.5 0-7.9 7.9-7.9 20.6 0 28.5l120.4 120.4c7.9 7.9 20.6 7.9 28.5 0l120.4-120.4c7.8-7.9 7.8-20.7-.1-28.5z" /></svg>
                        </button>
                    </div>
                    @*                    <div class="product-cell price">
                        Price<button class="sort-button">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 512 512"><path fill="currentColor" d="M496.1 138.3L375.7 17.9c-7.9-7.9-20.6-7.9-28.5 0L226.9 138.3c-7.9 7.9-7.9 20.6 0 28.5 7.9 7.9 20.6 7.9 28.5 0l85.7-85.7v352.8c0 11.3 9.1 20.4 20.4 20.4 11.3 0 20.4-9.1 20.4-20.4V81.1l85.7 85.7c7.9 7.9 20.6 7.9 28.5 0 7.9-7.8 7.9-20.6 0-28.5zM287.1 347.2c-7.9-7.9-20.6-7.9-28.5 0l-85.7 85.7V80.1c0-11.3-9.1-20.4-20.4-20.4-11.3 0-20.4 9.1-20.4 20.4v352.8l-85.7-85.7c-7.9-7.9-20.6-7.9-28.5 0-7.9 7.9-7.9 20.6 0 28.5l120.4 120.4c7.9 7.9 20.6 7.9 28.5 0l120.4-120.4c7.8-7.9 7.8-20.7-.1-28.5z" /></svg>
                        </button>
                        </div>*@
                    <div class="product-cell price">
                        Durum<button class="sort-button">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 512 512"><path fill="currentColor" d="M496.1 138.3L375.7 17.9c-7.9-7.9-20.6-7.9-28.5 0L226.9 138.3c-7.9 7.9-7.9 20.6 0 28.5 7.9 7.9 20.6 7.9 28.5 0l85.7-85.7v352.8c0 11.3 9.1 20.4 20.4 20.4 11.3 0 20.4-9.1 20.4-20.4V81.1l85.7 85.7c7.9 7.9 20.6 7.9 28.5 0 7.9-7.8 7.9-20.6 0-28.5zM287.1 347.2c-7.9-7.9-20.6-7.9-28.5 0l-85.7 85.7V80.1c0-11.3-9.1-20.4-20.4-20.4-11.3 0-20.4 9.1-20.4 20.4v352.8l-85.7-85.7c-7.9-7.9-20.6-7.9-28.5 0-7.9 7.9-7.9 20.6 0 28.5l120.4 120.4c7.9 7.9 20.6 7.9 28.5 0l120.4-120.4c7.8-7.9 7.8-20.7-.1-28.5z" /></svg>
                        </button>
                    </div>
                </div>
                @foreach (var insurance in Model)
                {
                    count +=1 ;
                    <div class="products-row">
                        <button class="cell-more-button">
                            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-more-vertical"><circle cx="12" cy="12" r="1" /><circle cx="12" cy="5" r="1" /><circle cx="12" cy="19" r="1" /></svg>
                        </button>
                        <div class="product-cell image">
                            <img src="https://upload.wikimedia.org/wikipedia/commons/e/e2/AXA_Logo_FR.svg" alt="product">
                            <span>@count</span>
                        </div>
                        <div class="product-cell category"><span class="cell-label">Kullanıcı:</span>@insurance.User.FullName</div>
                        <div class="product-cell category"><span class="cell-label">Başlangıç Tarihi:</span>@insurance.InsuranceStartDate.ToString("dd/M/yyyy", CultureInfo.InvariantCulture)</div>
                        <div class="product-cell category"><span class="cell-label">Bitiş Tarihi:</span>@insurance.InsuranceEndDate.ToString("dd/M/yyyy", CultureInfo.InvariantCulture)</div>
                        <div class="product-cell price"><span class="cell-label">Ücret:</span>710 ₺</div>
                        <div class="product-cell stock"><span class="cell-label">Durum:</span>@insurance.RemainingTime</div>

                        <div class="product-cell status-cell">
                            <span class="cell-label">Status:</span>

                            @if (insurance.IsActive)
                            {
                                <span class="status active">Active</span>
                            }
                            else
                            {
                                <span class="status disabled">Disabled</span>
                            }
                        </div>

                        @*<div class="product-cell sales"><span class="cell-label">Sales:</span>11</div>*@
                        @*<div class="product-cell stock"><span class="cell-label">Stock:</span>36</div>*@
                        @*<div class="product-cell price"><span class="cell-label">Price:</span>$560</div>*@
                    </div>
                }
            </div>
        </div>
    </div>
    <!-- partial -->
    <script src="~/lib/jquery/dist/jquery.js"></script>
    <script src="~/js/gird.js"></script>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.0/jquery.min.js'></script>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.15.0/popper.min.js'></script>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min.js'></script>
    <script src="~/js/jquery.min.js"></script>
    <script src="~/js/popper.js"></script>
    <script src="~/js/bootstrap.min.js"></script>
    <script src="~/js/main.js"></script>
    <script src="~/js/mersis.js"></script>
    <script src="~/js/choices.js"></script>
    <script src="~/js/flatpickr.js"></script>
    <script src="~/js/formValidate.js"></script>
    <script>
        flatpickr(".datepicker",
        {});

    </script>
    <script>
            const choices = new Choices('[data-trigger]',
            {
                searchEnabled: false,
                itemSelectText: '',
            });

            function DownloadExcelInsurance(){
                window.open("/Insurance/ExcelExportInsurance");
            }

        // Example starter JavaScript for disabling form submissions if there are invalid fields
        //(function () {
        //  'use strict'

        //  // Fetch all the forms we want to apply custom Bootstrap validation styles to
        //  debugger;
        // var forms = document.querySelectorAll('.needs-validation')
        // //var forms = Array.from(document.querySelectorAll('.needs-validation')[0]).filter(x=> !x.classList.contains("datepicker") && x.id !== '' );

        //  // Loop over them and prevent submission
        //    Array.prototype.slice.call(forms)
        //    .forEach(function (form) {
        //      form.addEventListener('submit', function (event) {
        //        if (!form.checkValidity()) {
        //          event.preventDefault()
        //          event.stopPropagation()
        //        }

        //        form.classList.add('was-validated')
        //      }, false)
        //    })
        //})()
    </script>
</body>
</html>

